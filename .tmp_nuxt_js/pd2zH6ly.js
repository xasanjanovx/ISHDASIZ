import{b as V,i as ae,d as z,a as te}from"./Q0Uepi9K.js";import{t as se}from"./CZcV5495.js";import{U as $}from"./BE20p1dL.js";import{T as ue,aL as ie,B as k,p as f,h as L,E as re,ax as ce,aR as M,q as s,aw as fe,D as de,R as ve,aH as j,N as ye,aO as me}from"./BK2JPfx8.js";import{a as ge}from"./CdAW0Dk2.js";import{u as be}from"./CEt7nTGC.js";const De=Symbol("dialogInjectionKey"),U="dialog-fade",Ce=V({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:ae},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Le={close:()=>!0},Te=V({...Ce,appendToBody:Boolean,appendTo:{type:se.to.type,default:"body"},beforeClose:{type:z(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:z([String,Object]),default:void 0}}),xe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[$]:l=>ue(l),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Oe=(l,t)=>{var T;const u=ce().emit,{nextZIndex:g}=ie();let x="";const q=k(),G=k(),i=f(!1),b=f(!1),d=f(!1),C=f((T=l.zIndex)!=null?T:g()),v=f(!1);let r,c;const O=be(),K=s(()=>{var e,o;return(o=(e=O.value)==null?void 0:e.namespace)!=null?o:me}),y=s(()=>{var e;return(e=O.value)==null?void 0:e.dialog}),Z=s(()=>{const e={},o=`--${K.value}-dialog`;if(!l.fullscreen){l.top&&(e[`${o}-margin-top`]=l.top);const n=te(l.width);n&&(e[`${o}-width`]=n)}return e}),J=s(()=>{var e,o,n;return((n=(o=l.draggable)!=null?o:(e=y.value)==null?void 0:e.draggable)!=null?n:!1)&&!l.fullscreen}),h=s(()=>{var e,o,n;return(n=(o=l.alignCenter)!=null?o:(e=y.value)==null?void 0:e.alignCenter)!=null?n:!1}),Q=s(()=>{var e,o,n;return(n=(o=l.overflow)!=null?o:(e=y.value)==null?void 0:e.overflow)!=null?n:!1}),W=s(()=>h.value?{display:"flex"}:{}),X=s(()=>{var e,o,n;const E=(n=(o=l.transition)!=null?o:(e=y.value)==null?void 0:e.transition)!=null?n:U,oe={name:E,onAfterEnter:_,onBeforeLeave:B,onAfterLeave:p};if(de(E)){const a={...E},D=(m,ne)=>w=>{ve(m)?m.forEach(N=>{j(N)&&N(w)}):j(m)&&m(w),ne()};return a.onAfterEnter=D(a.onAfterEnter,_),a.onBeforeLeave=D(a.onBeforeLeave,B),a.onAfterLeave=D(a.onAfterLeave,p),a.name||(a.name=U),a}return oe});function _(){u("opened")}function p(){u("closed"),u($,!1),l.destroyOnClose&&(d.value=!1),v.value=!1}function B(){v.value=!0,u("close")}function P(){c?.(),r?.(),l.openDelay&&l.openDelay>0?{stop:r}=M(()=>F(),l.openDelay):F()}function A(){r?.(),c?.(),l.closeDelay&&l.closeDelay>0?{stop:c}=M(()=>S(),l.closeDelay):S()}function I(){function e(o){o||(b.value=!0,i.value=!1)}l.beforeClose?l.beforeClose(e):A()}function Y(){l.closeOnClickModal&&I()}function F(){fe&&(i.value=!0)}function S(){i.value=!1}function H(){u("openAutoFocus")}function R(){u("closeAutoFocus")}function ee(e){var o;((o=e.detail)==null?void 0:o.focusReason)==="pointer"&&e.preventDefault()}l.lockScroll&&ge(i);function le(){l.closeOnPressEscape&&I()}return L(()=>l.zIndex,()=>{var e;C.value=(e=l.zIndex)!=null?e:g()}),L(()=>l.modelValue,e=>{var o;e?(b.value=!1,v.value=!1,P(),d.value=!0,C.value=(o=l.zIndex)!=null?o:g(),ye(()=>{u("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):i.value&&A()}),L(()=>l.fullscreen,e=>{t.value&&(e?(x=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=x)}),re(()=>{l.modelValue&&(i.value=!0,d.value=!0,P())}),{afterEnter:_,afterLeave:p,beforeLeave:B,handleClose:I,onModalClick:Y,close:A,doClose:S,onOpenAutoFocus:H,onCloseAutoFocus:R,onCloseRequested:le,onFocusoutPrevented:ee,titleId:q,bodyId:G,closed:b,style:Z,overlayDialogStyle:W,rendered:d,visible:i,zIndex:C,transitionConfig:X,_draggable:J,_alignCenter:h,_overflow:Q,closing:v}};export{Ce as a,De as b,xe as c,Le as d,Te as e,Oe as u};
