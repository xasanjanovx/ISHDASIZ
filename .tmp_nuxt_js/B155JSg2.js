import{e as re,g as ie,o as b,c as V,a as $,l as M,m as g,k as z,L as le,b as K,w as R,C as N,n as oe,j as A,V as El,q as v,p as D,h as q,b6 as Il,f as De,ax as $e,D as Z,b7 as kl,X as be,Y as qe,t as j,B as Et,b8 as Qe,Z as It,N as Q,z as ge,E as je,aV as Vl,aB as Tl,aH as me,R as J,F as Ve,b9 as Dl,ay as bt,aW as $l,b5 as Rl,ba as Ml,aw as Ll,i as Bl,s as Pl,v as kt,x as Nl,am as Wl,a0 as X,bb as zl,G as ve,H as Te,I as ze,d as gt,a5 as Fl,r as Fe,bc as Al}from"./BK2JPfx8.js";import{u as ht,E as Hl,a as Kl}from"./B6ZCCVaR.js";import{c as Y,s as Gl,E as Ul}from"./BRVkaU9v.js";import{ab as ql,ac as Vt,ad as Ql,ae as jl,af as Tt,a7 as Dt,D as G,aa as Zl,a0 as Jl,b as Ze,c as Xl,_ as ye,u as $t,ag as yt,E as He,w as Rt,ah as ne,I as te,ai as Yl,J as St,K as H,V as _l,aj as xl,v as en,i as Ot,O as tn,P as ln,d as U,ak as nn,e as Mt}from"./Q0Uepi9K.js";import{b as Lt,u as an,a as sn,c as on}from"./DRYPtbMC.js";import{t as rn,d as Ct,U as se,C as Bt}from"./BE20p1dL.js";import{s as un}from"./D5nUfHt7.js";import{u as dn,a as cn}from"./BfJdvYFm.js";import{t as Ae,C as pn}from"./CnKIPfCt.js";import{h as fn,i as vn,u as mn}from"./BHWYNUKH.js";import{f as bn}from"./BmMjECQY.js";function gn(e,n,a,r){for(var d=e.length,c=a+(r?1:-1);r?c--:++c<d;)if(n(e[c],c,e))return c;return-1}function hn(e,n,a){return e===e&&(a!==void 0&&(e=e<=a?e:a),n!==void 0&&(e=e>=n?e:n)),e}function yn(e,n,a){return a===void 0&&(a=n,n=void 0),a!==void 0&&(a=Ae(a),a=a===a?a:0),n!==void 0&&(n=Ae(n),n=n===n?n:0),hn(Ae(e),n,a)}var Sn=1,On=2;function Cn(e,n,a,r){var d=a.length,c=d;if(e==null)return!c;for(e=Object(e);d--;){var i=a[d];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++d<c;){i=a[d];var l=i[0],y=e[l],O=i[1];if(i[2]){if(y===void 0&&!(l in e))return!1}else{var h=new ql,f;if(!(f===void 0?Vt(O,y,Sn|On,r,h):f))return!1}}return!0}function Pt(e){return e===e&&!Ql(e)}function wn(e){for(var n=jl(e),a=n.length;a--;){var r=n[a],d=e[r];n[a]=[r,d,Pt(d)]}return n}function Nt(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}function En(e){var n=wn(e);return n.length==1&&n[0][2]?Nt(n[0][0],n[0][1]):function(a){return a===e||Cn(a,e,n)}}var In=1,kn=2;function Vn(e,n){return Tt(e)&&Pt(n)?Nt(Dt(e),n):function(a){var r=G(a,e);return r===void 0&&r===n?fn(a,e):Vt(n,r,In|kn)}}function Tn(e){return function(n){return n?.[e]}}function Dn(e){return function(n){return Zl(n,e)}}function $n(e){return Tt(e)?Tn(Dt(e)):Dn(e)}function Rn(e){return typeof e=="function"?e:e==null?vn:typeof e=="object"?Jl(e)?Vn(e[0],e[1]):En(e):$n(e)}function Mn(e,n,a){var r=e==null?0:e.length;if(!r)return-1;var d=r-1;return gn(e,Rn(n),d,!0)}const Ke=Ze({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Xl},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ln={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Bn=["aria-label"],Pn=["aria-label"],Nn=re({name:"ElTag",__name:"tag",props:Ke,emits:Ln,setup(e,{emit:n}){const a=e,r=n,d=Lt(),{t:c}=$t(),i=ie("tag"),l=v(()=>{const{type:f,hit:C,effect:p,closable:E,round:w}=a;return[i.b(),i.is("closable",E),i.m(f||"primary"),i.m(d.value),i.m(p),i.is("hit",C),i.is("round",w)]}),y=f=>{r("close",f)},O=f=>{r("click",f)},h=f=>{var C,p,E;(E=(p=(C=f?.component)==null?void 0:C.subTree)==null?void 0:p.component)!=null&&E.bum&&(f.component.subTree.component.bum=null)};return(f,C)=>f.disableTransitions?(b(),V("span",{key:0,class:g(l.value),style:oe({backgroundColor:f.color}),onClick:O},[$("span",{class:g(z(i).e("content"))},[M(f.$slots,"default")],2),f.closable?(b(),V("button",{key:0,"aria-label":z(c)("el.tag.close"),class:g(z(i).e("close")),type:"button",onClick:le(y,["stop"])},[K(z(He),null,{default:R(()=>[K(z(yt))]),_:1})],10,Bn)):N("v-if",!0)],6)):(b(),A(El,{key:1,name:`${z(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:h},{default:R(()=>[$("span",{class:g(l.value),style:oe({backgroundColor:f.color}),onClick:O},[$("span",{class:g(z(i).e("content"))},[M(f.$slots,"default")],2),f.closable?(b(),V("button",{key:0,"aria-label":z(c)("el.tag.close"),class:g(z(i).e("close")),type:"button",onClick:le(y,["stop"])},[K(z(He),null,{default:R(()=>[K(z(yt))]),_:1})],10,Pn)):N("v-if",!0)],6)]),_:3},8,["name"]))}});var Wn=ye(Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const zn=Rt(Wn),Ge={label:"label",value:"value",disabled:"disabled",options:"options"};function Fn(e){const n=D({...Ge,...e.props});let a={...e.props};return q(()=>e.props,l=>{ne(l,a)||(n.value={...Ge,...l},a={...l})},{deep:!0}),{aliasProps:n,getLabel:l=>G(l,n.value.label),getValue:l=>G(l,n.value.value),getDisabled:l=>G(l,n.value.disabled),getOptions:l=>G(l,n.value.options)}}const Wt=Symbol("ElSelectGroup"),Re=Symbol("ElSelect"),Ue="ElOption",An=Ze({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),Hn=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Oa=e=>Il(e);function Kn(e,n){const a=De(Re);a||rn(Ue,"usage: <el-select><el-option /></el-select/>");const r=De(Wt,{disabled:!1}),d=v(()=>h(Y(a.props.modelValue),e.value)),c=v(()=>{var p;if(a.props.multiple){const E=Y((p=a.props.modelValue)!=null?p:[]);return!d.value&&E.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),i=v(()=>{var p;return(p=e.label)!=null?p:Z(e.value)?"":e.value}),l=v(()=>e.value||e.label||""),y=v(()=>e.disabled||n.groupDisabled||c.value),O=$e(),h=(p=[],E)=>{if(Z(e.value)){const w=a.props.valueKey;return p&&p.some(u=>kl(G(u,w))===G(E,w))}else return p&&p.includes(E)},f=()=>{y.value||(a.states.hoveringIndex=a.optionsArray.indexOf(O.proxy))},C=p=>{const E=new RegExp(Hn(p),"i");n.visible=E.test(String(i.value))||e.created};return q(()=>i.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),q(()=>e.value,(p,E)=>{const{remote:w,valueKey:u}=a.props;if((w?p!==E:!ne(p,E))&&(a.onOptionDestroy(E,O.proxy),a.onOptionCreate(O.proxy)),!e.created&&!w){if(u&&Z(p)&&Z(E)&&p[u]===E[u])return;a.setSelected()}}),q(()=>r.disabled,()=>{n.groupDisabled=r.disabled},{immediate:!0}),{select:a,currentLabel:i,currentValue:l,itemSelected:d,isDisabled:y,hoverItem:f,updateOption:C}}const Gn=re({name:Ue,componentName:Ue,props:An,setup(e){const n=ie("select"),a=Et(),r=v(()=>[n.be("dropdown","item"),n.is("disabled",z(l)),n.is("selected",z(i)),n.is("hovering",z(C))]),d=ge({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:c,itemSelected:i,isDisabled:l,select:y,hoverItem:O,updateOption:h}=Kn(e,d),{visible:f,hover:C}=Qe(d),p=$e().proxy;y.onOptionCreate(p),It(()=>{const w=p.value;Q(()=>{const{selected:u}=y.states,L=u.some(S=>S.value===p.value);y.states.cachedOptions.get(w)===p&&!L&&y.states.cachedOptions.delete(w)}),y.onOptionDestroy(w,p)});function E(){l.value||y.handleOptionSelect(p)}return{ns:n,id:a,containerKls:r,currentLabel:c,itemSelected:i,isDisabled:l,select:y,visible:f,hover:C,states:d,hoverItem:O,updateOption:h,selectOptionClick:E}}}),Un=["id","aria-disabled","aria-selected"];function qn(e,n,a,r,d,c){return be((b(),V("li",{id:e.id,class:g(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:n[0]||(n[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:n[1]||(n[1]=le((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"]))},[M(e.$slots,"default",{},()=>[$("span",null,j(e.currentLabel),1)])],42,Un)),[[qe,e.visible]])}var Je=ye(Gn,[["render",qn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const zt=11,Qn=2,jn=re({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=De(Re),n=ie("select"),a=v(()=>e.props.popperClass),r=v(()=>e.props.multiple),d=v(()=>e.props.fitInputWidth),c=D("");function i(){var l;const y=(l=e.selectRef)==null?void 0:l.offsetWidth;y?c.value=`${y-Qn}px`:c.value=""}return je(()=>{i(),te(e.selectRef,i)}),{ns:n,minWidth:c,popperClass:a,isMultiple:r,isFitInputWidth:d}}});function Zn(e,n,a,r,d,c){return b(),V("div",{class:g([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:oe({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(b(),V("div",{key:0,class:g(e.ns.be("dropdown","header"))},[M(e.$slots,"header")],2)):N("v-if",!0),M(e.$slots,"default"),e.$slots.footer?(b(),V("div",{key:1,class:g(e.ns.be("dropdown","footer"))},[M(e.$slots,"footer")],2)):N("v-if",!0)],6)}var Jn=ye(jn,[["render",Zn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const Xn=(e,n)=>{const{t:a}=$t(),r=Vl(),d=Et(),c=ie("select"),i=ie("input"),l=ge({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),y=D(),O=D(),h=D(),f=D(),C=D(),p=D(),E=D(),w=D(),u=D(),L=D(),S=D(),m=D(!1),T=D(),ae=D(!1),{form:ue,formItem:B}=an(),{inputId:Ye}=sn(e,{formItemContext:B}),{valueOnClear:_,isEmptyValue:Ft}=Yl(e),{isComposing:Me,handleCompositionStart:At,handleCompositionUpdate:Ht,handleCompositionEnd:Kt}=cn({afterComposition:t=>ot(t)}),de=on(),{wrapperRef:_e,isFocused:Le,handleBlur:Gt}=dn(C,{disabled:de,afterFocus(){e.automaticDropdown&&!m.value&&(m.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(t){var s,o;return((s=h.value)==null?void 0:s.isFocusInsideContent(t))||((o=f.value)==null?void 0:o.isFocusInsideContent(t))},afterBlur(){var t;m.value=!1,l.menuVisibleOnFocus=!1,e.validateEvent&&((t=B?.validate)==null||t.call(B,"blur").catch(s=>Ct()))}}),Be=v(()=>J(e.modelValue)?e.modelValue.length>0:!Ft(e.modelValue)),Ut=v(()=>{var t;return(t=ue?.statusIcon)!=null?t:!1}),qt=v(()=>e.clearable&&!de.value&&Be.value&&(Le.value||l.inputHovering)),xe=v(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Qt=v(()=>c.is("reverse",!!(xe.value&&m.value))),Pe=v(()=>B?.validateState||""),jt=v(()=>Pe.value&&_l[Pe.value]),Zt=v(()=>e.remote?e.debounce:0),Jt=v(()=>e.remote&&!l.inputValue&&l.options.size===0),Xt=v(()=>e.loading?e.loadingText||a("el.select.loading"):e.filterable&&l.inputValue&&l.options.size>0&&ce.value===0?e.noMatchText||a("el.select.noMatch"):l.options.size===0?e.noDataText||a("el.select.noData"):null),ce=v(()=>P.value.filter(t=>t.visible).length),P=v(()=>{const t=Array.from(l.options.values()),s=[];return l.optionValues.forEach(o=>{const I=t.findIndex(k=>k.value===o);I>-1&&s.push(t[I])}),s.length>=t.length?s:t}),Yt=v(()=>Array.from(l.cachedOptions.values())),_t=v(()=>{const t=P.value.filter(s=>!s.created).some(s=>s.currentLabel===l.inputValue);return e.filterable&&e.allowCreate&&l.inputValue!==""&&!t}),et=()=>{e.filterable&&me(e.filterMethod)||e.filterable&&e.remote&&me(e.remoteMethod)||P.value.forEach(t=>{var s;(s=t.updateOption)==null||s.call(t,l.inputValue)})},tt=Lt(),xt=v(()=>["small"].includes(tt.value)?"small":"default"),lt=v({get(){return m.value&&(e.loading||!Jt.value||e.remote&&!!r.empty)&&(!ae.value||!Ml(l.previousQuery))},set(t){m.value=t}}),el=v(()=>{if(e.multiple&&!Ve(e.modelValue))return Y(e.modelValue).length===0&&!l.inputValue;const t=J(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Ve(t)?!l.inputValue:!0}),tl=v(()=>{var t;const s=(t=e.placeholder)!=null?t:a("el.select.placeholder");return e.multiple||!Be.value?s:l.selectedLabel}),ll=v(()=>bt?null:"mouseenter");q(()=>e.modelValue,(t,s)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(l.inputValue="",Se("")),Oe(),!ne(t,s)&&e.validateEvent&&B?.validate("change").catch(o=>Ct())},{flush:"post",deep:!0}),q(()=>m.value,t=>{t?Se(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0)}),q(()=>l.options.entries(),()=>{Ll&&(Oe(),e.defaultFirstOption&&(e.filterable||e.remote)&&ce.value&&nt())},{flush:"post"}),q([()=>l.hoveringIndex,P],([t])=>{Bl(t)&&t>-1?T.value=P.value[t]||{}:T.value={},P.value.forEach(s=>{s.hover=T.value===s})}),Tl(()=>{l.isBeforeHide||et()});const Se=t=>{l.previousQuery===t||Me.value||(l.previousQuery=t,e.filterable&&me(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&me(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&ce.value?Q(nt):Q(nl))},nt=()=>{const t=P.value.filter(k=>k.visible&&!k.disabled&&!k.states.groupDisabled),s=t.find(k=>k.created),o=t[0],I=P.value.map(k=>k.value);l.hoveringIndex=ct(I,s||o)},Oe=()=>{if(e.multiple)l.selectedLabel="";else{const s=J(e.modelValue)?e.modelValue[0]:e.modelValue,o=Ne(s);l.selectedLabel=o.currentLabel,l.selected=[o];return}const t=[];Ve(e.modelValue)||Y(e.modelValue).forEach(s=>{t.push(Ne(s))}),l.selected=t},Ne=t=>{let s;const o=Dl(t);for(let W=l.cachedOptions.size-1;W>=0;W--){const F=Yt.value[W];if(o?G(F.value,e.valueKey)===G(t,e.valueKey):F.value===t){s={index:P.value.filter(ee=>!ee.created).indexOf(F),value:t,currentLabel:F.currentLabel,get isDisabled(){return F.isDisabled}};break}}if(s)return s;const I=o?t.label:t??"";return{index:-1,value:t,currentLabel:I}},nl=()=>{const t=l.selected.length;if(t>0){const s=l.selected[t-1];l.hoveringIndex=P.value.findIndex(o=>we(s)===we(o))}else l.hoveringIndex=-1},al=()=>{l.selectionWidth=Number.parseFloat(window.getComputedStyle(O.value).width)},sl=()=>{l.collapseItemWidth=L.value.getBoundingClientRect().width},We=()=>{var t,s;(s=(t=h.value)==null?void 0:t.updatePopper)==null||s.call(t)},at=()=>{var t,s;(s=(t=f.value)==null?void 0:t.updatePopper)==null||s.call(t)},st=()=>{l.inputValue.length>0&&!m.value&&(m.value=!0),Se(l.inputValue)},ot=t=>{if(l.inputValue=t.target.value,e.remote)ae.value=!0,it();else return st()},it=Rl(()=>{st(),ae.value=!1},Zt),pe=t=>{ne(e.modelValue,t)||n(Bt,t)},ol=t=>Mn(t,s=>{const o=l.cachedOptions.get(s);return!o?.disabled&&!o?.states.groupDisabled}),rt=t=>{const s=St(t);if(e.multiple&&s!==H.delete&&t.target.value.length<=0){const o=Y(e.modelValue).slice(),I=ol(o);if(I<0)return;const k=o[I];o.splice(I,1),n(se,o),pe(o),n("remove-tag",k)}},il=(t,s)=>{const o=l.selected.indexOf(s);if(o>-1&&!de.value){const I=Y(e.modelValue).slice();I.splice(o,1),n(se,I),pe(I),n("remove-tag",s.value)}t.stopPropagation(),Ce()},ut=t=>{t.stopPropagation();const s=e.multiple?[]:_.value;if(e.multiple)for(const o of l.selected)o.isDisabled&&s.push(o.value);n(se,s),pe(s),l.hoveringIndex=-1,m.value=!1,n("clear"),Ce()},dt=t=>{var s;if(e.multiple){const o=Y((s=e.modelValue)!=null?s:[]).slice(),I=ct(o,t);I>-1?o.splice(I,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(t.value),n(se,o),pe(o),t.created&&Se(""),e.filterable&&!e.reserveKeyword&&(l.inputValue="")}else!ne(e.modelValue,t.value)&&n(se,t.value),pe(t.value),m.value=!1;Ce(),!m.value&&Q(()=>{fe(t)})},ct=(t,s)=>Ve(s)?-1:Z(s.value)?t.findIndex(o=>ne(G(o,e.valueKey),we(s))):t.indexOf(s.value),fe=t=>{var s,o,I,k,W;const F=J(t)?t[t.length-1]:t;let x=null;if(!$l(F?.value)){const ee=P.value.filter(wl=>wl.value===F.value);ee.length>0&&(x=ee[0].$el)}if(h.value&&x){const ee=(k=(I=(o=(s=h.value)==null?void 0:s.popperRef)==null?void 0:o.contentRef)==null?void 0:I.querySelector)==null?void 0:k.call(I,`.${c.be("dropdown","wrap")}`);ee&&un(ee,x)}(W=S.value)==null||W.handleScroll()},rl=t=>{l.options.set(t.value,t),l.cachedOptions.set(t.value,t)},ul=(t,s)=>{l.options.get(t)===s&&l.options.delete(t)},dl=v(()=>{var t,s;return(s=(t=h.value)==null?void 0:t.popperRef)==null?void 0:s.contentRef}),cl=()=>{l.isBeforeHide=!1,Q(()=>{var t;(t=S.value)==null||t.update(),fe(l.selected)})},Ce=()=>{var t;(t=C.value)==null||t.focus()},pl=()=>{var t;if(m.value){m.value=!1,Q(()=>{var s;return(s=C.value)==null?void 0:s.blur()});return}(t=C.value)==null||t.blur()},fl=t=>{ut(t)},vl=t=>{if(m.value=!1,Le.value){const s=new FocusEvent("blur",t);Q(()=>Gt(s))}},pt=()=>{l.inputValue.length>0?l.inputValue="":m.value=!1},ft=t=>{var s;de.value||e.filterable&&m.value&&t&&!((s=E.value)!=null&&s.contains(t.target))||(bt&&(l.inputHovering=!0),l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:m.value=!m.value)},vt=()=>{if(!m.value)ft();else{const t=P.value[l.hoveringIndex];t&&!t.isDisabled&&dt(t)}},we=t=>Z(t.value)?G(t.value,e.valueKey):t.value,ml=v(()=>P.value.filter(t=>t.visible).every(t=>t.isDisabled)),bl=v(()=>e.multiple?e.collapseTags?l.selected.slice(0,e.maxCollapseTags):l.selected:[]),gl=v(()=>e.multiple?e.collapseTags?l.selected.slice(e.maxCollapseTags):[]:[]),Ee=t=>{if(!m.value){m.value=!0;return}if(!(l.options.size===0||ce.value===0||Me.value)&&!ml.value){t==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):t==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const s=P.value[l.hoveringIndex];(s.isDisabled||!s.visible)&&Ee(t),Q(()=>fe(T.value))}},mt=(t,s,o,I)=>{for(let k=s;k>=0&&k<I;k+=o){const W=t[k];if(!W?.isDisabled&&W?.visible)return k}return null},Ie=(t,s)=>{var o;const I=l.options.size;if(I===0)return;const k=yn(t,0,I-1),W=P.value,F=s==="up"?-1:1,x=(o=mt(W,k,F,I))!=null?o:mt(W,k-F,-F,I);x!=null&&(l.hoveringIndex=x,Q(()=>fe(T.value)))},hl=t=>{const s=St(t);let o=!0;switch(s){case H.up:Ee("prev");break;case H.down:Ee("next");break;case H.enter:case H.numpadEnter:Me.value||vt();break;case H.esc:pt();break;case H.backspace:o=!1,rt(t);return;case H.home:if(!m.value)return;Ie(0,"down");break;case H.end:if(!m.value)return;Ie(l.options.size-1,"up");break;case H.pageUp:if(!m.value)return;Ie(l.hoveringIndex-10,"up");break;case H.pageDown:if(!m.value)return;Ie(l.hoveringIndex+10,"down");break;default:o=!1;break}o&&(t.preventDefault(),t.stopPropagation())},yl=()=>{if(!O.value)return 0;const t=window.getComputedStyle(O.value);return Number.parseFloat(t.gap||"6px")},Sl=v(()=>{const t=yl(),s=e.filterable?t+zt:0;return{maxWidth:`${L.value&&e.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-t-s:l.selectionWidth-s}px`}}),Ol=v(()=>({maxWidth:`${l.selectionWidth}px`})),Cl=t=>{n("popup-scroll",t)};te(O,al),te(_e,We),te(u,at),te(L,sl);let ke;return q(()=>lt.value,t=>{t?ke=te(w,We).stop:(ke?.(),ke=void 0),n("visible-change",t)}),je(()=>{Oe()}),{inputId:Ye,contentId:d,nsSelect:c,nsInput:i,states:l,isFocused:Le,expanded:m,optionsArray:P,hoverOption:T,selectSize:tt,filteredOptionsCount:ce,updateTooltip:We,updateTagTooltip:at,debouncedOnInputChange:it,onInput:ot,deletePrevTag:rt,deleteTag:il,deleteSelected:ut,handleOptionSelect:dt,scrollToOption:fe,hasModelValue:Be,shouldShowPlaceholder:el,currentPlaceholder:tl,mouseEnterEventName:ll,needStatusIcon:Ut,showClearBtn:qt,iconComponent:xe,iconReverse:Qt,validateState:Pe,validateIcon:jt,showNewOption:_t,updateOptions:et,collapseTagSize:xt,setSelected:Oe,selectDisabled:de,emptyText:Xt,handleCompositionStart:At,handleCompositionUpdate:Ht,handleCompositionEnd:Kt,handleKeydown:hl,onOptionCreate:rl,onOptionDestroy:ul,handleMenuEnter:cl,focus:Ce,blur:pl,handleClearClick:fl,handleClickOutside:vl,handleEsc:pt,toggleMenu:ft,selectOption:vt,getValueKey:we,navigateOptions:Ee,dropdownMenuVisible:lt,showTagList:bl,collapseTagList:gl,popupScroll:Cl,getOption:Ne,tagStyle:Sl,collapseTagStyle:Ol,popperRef:dl,inputRef:C,tooltipRef:h,tagTooltipRef:f,prefixRef:p,suffixRef:E,selectRef:y,wrapperRef:_e,selectionRef:O,scrollbarRef:S,menuRef:w,tagMenuRef:u,collapseItemRef:L}};var Yn=re({name:"ElOptions",setup(e,{slots:n}){const a=De(Re);let r=[];return()=>{var d,c;const i=(d=n.default)==null?void 0:d.call(n),l=[];function y(O){J(O)&&O.forEach(h=>{var f,C,p,E;const w=(f=h?.type||{})==null?void 0:f.name;w==="ElOptionGroup"?y(!Pl(h.children)&&!J(h.children)&&me((C=h.children)==null?void 0:C.default)?(p=h.children)==null?void 0:p.default():h.children):w==="ElOption"?l.push((E=h.props)==null?void 0:E.value):J(h.children)&&y(h.children)})}return i.length&&y((c=i[0])==null?void 0:c.children),ne(l,r)||(r=l,a&&(a.states.optionValues=l)),i}}});const _n=Ze({name:String,id:String,modelValue:{type:U([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:ln,effect:{type:U(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:U([String,Object])},popperOptions:{type:U(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:U(Function)},filterMethod:{type:U(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ht.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ot,default:tn},fitInputWidth:Boolean,suffixIcon:{type:Ot,default:en},tagType:{...Ke.type,default:"info"},tagEffect:{...Ke.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:U(String),values:Hl,default:"bottom-start"},fallbackPlacements:{type:U(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:ht.appendTo,options:{type:U(Array)},props:{type:U(Object),default:()=>Ge},...xl,...mn(["ariaLabel"])});Gl.scroll;const xn=re({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const n=ie("select"),a=D(),r=$e(),d=D([]);kt(Wt,ge({...Qe(e)}));const c=v(()=>d.value.some(O=>O.visible===!0)),i=O=>{var h;return O.type.name==="ElOption"&&!!((h=O.component)!=null&&h.proxy)},l=O=>{const h=Y(O),f=[];return h.forEach(C=>{var p;Nl(C)&&(i(C)?f.push(C.component.proxy):J(C.children)&&C.children.length?f.push(...l(C.children)):(p=C.component)!=null&&p.subTree&&f.push(...l(C.component.subTree)))}),f},y=()=>{d.value=l(r.subTree)};return je(()=>{y()}),nn(a,y,{attributes:!0,subtree:!0,childList:!0}),{groupRef:a,visible:c,ns:n}}});function ea(e,n,a,r,d,c){return be((b(),V("ul",{ref:"groupRef",class:g(e.ns.be("group","wrap"))},[$("li",{class:g(e.ns.be("group","title"))},j(e.label),3),$("li",null,[$("ul",{class:g(e.ns.b("group"))},[M(e.$slots,"default")],2)])],2)),[[qe,e.visible]])}var Xe=ye(xn,[["render",ea],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);function ta(){const e=Wl(),n=D(0),a=v(()=>({minWidth:`${Math.max(n.value,zt)}px`}));return te(e,()=>{var d,c;n.value=(c=(d=e.value)==null?void 0:d.getBoundingClientRect().width)!=null?c:0}),{calculatorRef:e,calculatorWidth:n,inputStyle:a}}const wt="ElSelect",he=new WeakMap,la=e=>(...n)=>{var a,r;const d=n[0];if(!d||d.includes('Slot "default" invoked outside of the render function')&&((a=n[2])!=null&&a.includes("ElTreeSelect")))return;const c=(r=he.get(e))==null?void 0:r.originalWarnHandler;if(c){c(...n);return}console.warn(...n)},na=e=>{let n=he.get(e);return n||(n={originalWarnHandler:e.config.warnHandler,handler:la(e),count:0},he.set(e,n)),n},aa=re({name:wt,componentName:wt,components:{ElSelectMenu:Jn,ElOption:Je,ElOptions:Yn,ElOptionGroup:Xe,ElTag:zn,ElScrollbar:Ul,ElTooltip:Kl,ElIcon:He},directives:{ClickOutside:pn},props:_n,emits:[se,Bt,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:n,slots:a}){const r=$e(),d=na(r.appContext);d.count+=1,r.appContext.config.warnHandler=d.handler;const c=v(()=>{const{modelValue:S,multiple:m}=e,T=m?[]:void 0;return J(S)?m?S:T:m?T:S}),i=ge({...Qe(e),modelValue:c}),l=Xn(i,n),{calculatorRef:y,inputStyle:O}=ta(),{getLabel:h,getValue:f,getOptions:C,getDisabled:p}=Fn(e),E=S=>({label:h(S),value:f(S),disabled:p(S)}),w=S=>S.reduce((m,T)=>(m.push(T),T.children&&T.children.length>0&&m.push(...w(T.children)),m),[]),u=S=>{bn(S||[]).forEach(T=>{var ae;if(Z(T)&&(T.type.name==="ElOption"||T.type.name==="ElTree")){const ue=T.type.name;if(ue==="ElTree"){const B=((ae=T.props)==null?void 0:ae.data)||[];w(B).forEach(_=>{_.currentLabel=_.label||(Z(_.value)?"":_.value),l.onOptionCreate(_)})}else if(ue==="ElOption"){const B={...T.props};B.currentLabel=B.label||(Z(B.value)?"":B.value),l.onOptionCreate(B)}}})};q(()=>{var S;return[(S=a.default)==null?void 0:S.call(a),c.value]},()=>{var S;e.persistent||l.expanded.value||(l.states.options.clear(),u((S=a.default)==null?void 0:S.call(a)))},{immediate:!0}),kt(Re,ge({props:i,states:l.states,selectRef:l.selectRef,optionsArray:l.optionsArray,setSelected:l.setSelected,handleOptionSelect:l.handleOptionSelect,onOptionCreate:l.onOptionCreate,onOptionDestroy:l.onOptionDestroy}));const L=v(()=>e.multiple?l.states.selected.map(S=>S.currentLabel):l.states.selectedLabel);return It(()=>{const S=he.get(r.appContext);S&&(S.count-=1,S.count<=0&&(r.appContext.config.warnHandler=S.originalWarnHandler,he.delete(r.appContext)))}),{...l,modelValue:c,selectedLabel:L,calculatorRef:y,inputStyle:O,getLabel:h,getValue:f,getOptions:C,getDisabled:p,getOptionProps:E}}}),sa=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],oa=["textContent"],ia={key:1};function ra(e,n,a,r,d,c){const i=X("el-tag"),l=X("el-tooltip"),y=X("el-icon"),O=X("el-option"),h=X("el-option-group"),f=X("el-options"),C=X("el-scrollbar"),p=X("el-select-menu"),E=zl("click-outside");return be((b(),V("div",ze({ref:"selectRef",class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[Al(e.mouseEnterEventName)]:n[11]||(n[11]=w=>e.states.inputHovering=!0)},{onMouseleave:n[12]||(n[12]=w=>e.states.inputHovering=!1)}),[K(l,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:n[10]||(n[10]=w=>e.states.isBeforeHide=!1)},{default:R(()=>{var w;return[$("div",{ref:"wrapperRef",class:g([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:n[7]||(n[7]=le((...u)=>e.toggleMenu&&e.toggleMenu(...u),["prevent"]))},[e.$slots.prefix?(b(),V("div",{key:0,ref:"prefixRef",class:g(e.nsSelect.e("prefix"))},[M(e.$slots,"prefix")],2)):N("v-if",!0),$("div",{ref:"selectionRef",class:g([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?M(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(b(!0),V(ve,null,Te(e.showTagList,u=>(b(),V("div",{key:e.getValueKey(u),class:g(e.nsSelect.e("selected-item"))},[K(i,{closable:!e.selectDisabled&&!u.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:oe(e.tagStyle),onClose:L=>e.deleteTag(L,u)},{default:R(()=>[$("span",{class:g(e.nsSelect.e("tags-text"))},[M(e.$slots,"label",{index:u.index,label:u.currentLabel,value:u.value},()=>[gt(j(u.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(b(),A(l,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported,"popper-options":e.popperOptions},{default:R(()=>[$("div",{ref:"collapseItemRef",class:g(e.nsSelect.e("selected-item"))},[K(i,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:oe(e.collapseTagStyle)},{default:R(()=>[$("span",{class:g(e.nsSelect.e("tags-text"))}," + "+j(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:R(()=>[$("div",{ref:"tagMenuRef",class:g(e.nsSelect.e("selection"))},[(b(!0),V(ve,null,Te(e.collapseTagList,u=>(b(),V("div",{key:e.getValueKey(u),class:g(e.nsSelect.e("selected-item"))},[K(i,{class:"in-tooltip",closable:!e.selectDisabled&&!u.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:L=>e.deleteTag(L,u)},{default:R(()=>[$("span",{class:g(e.nsSelect.e("tags-text"))},[M(e.$slots,"label",{index:u.index,label:u.currentLabel,value:u.value},()=>[gt(j(u.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported","popper-options"])):N("v-if",!0)]):N("v-if",!0),$("div",{class:g([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[be($("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":n[0]||(n[0]=u=>e.states.inputValue=u),type:"text",name:e.name,class:g([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:oe(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((w=e.hoverOption)==null?void 0:w.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:n[1]||(n[1]=(...u)=>e.handleKeydown&&e.handleKeydown(...u)),onCompositionstart:n[2]||(n[2]=(...u)=>e.handleCompositionStart&&e.handleCompositionStart(...u)),onCompositionupdate:n[3]||(n[3]=(...u)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...u)),onCompositionend:n[4]||(n[4]=(...u)=>e.handleCompositionEnd&&e.handleCompositionEnd(...u)),onInput:n[5]||(n[5]=(...u)=>e.onInput&&e.onInput(...u)),onClick:n[6]||(n[6]=le((...u)=>e.toggleMenu&&e.toggleMenu(...u),["stop"]))},null,46,sa),[[Fl,e.states.inputValue]]),e.filterable?(b(),V("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:g(e.nsSelect.e("input-calculator")),textContent:j(e.states.inputValue)},null,10,oa)):N("v-if",!0)],2),e.shouldShowPlaceholder?(b(),V("div",{key:1,class:g([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?M(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[$("span",null,j(e.currentPlaceholder),1)]):(b(),V("span",ia,j(e.currentPlaceholder),1))],2)):N("v-if",!0)],2),$("div",{ref:"suffixRef",class:g(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(b(),A(y,{key:0,class:g([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:R(()=>[(b(),A(Fe(e.iconComponent)))]),_:1},8,["class"])):N("v-if",!0),e.showClearBtn&&e.clearIcon?(b(),A(y,{key:1,class:g([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:R(()=>[(b(),A(Fe(e.clearIcon)))]),_:1},8,["class","onClick"])):N("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(b(),A(y,{key:2,class:g([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:R(()=>[(b(),A(Fe(e.validateIcon)))]),_:1},8,["class"])):N("v-if",!0)],2)],2)]}),content:R(()=>[K(p,{ref:"menuRef"},{default:R(()=>[e.$slots.header?(b(),V("div",{key:0,class:g(e.nsSelect.be("dropdown","header")),onClick:n[8]||(n[8]=le(()=>{},["stop"]))},[M(e.$slots,"header")],2)):N("v-if",!0),be(K(C,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:g([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:R(()=>[e.showNewOption?(b(),A(O,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):N("v-if",!0),K(f,null,{default:R(()=>[M(e.$slots,"default",{},()=>[(b(!0),V(ve,null,Te(e.options,(w,u)=>{var L;return b(),V(ve,{key:u},[(L=e.getOptions(w))!=null&&L.length?(b(),A(h,{key:0,label:e.getLabel(w),disabled:e.getDisabled(w)},{default:R(()=>[(b(!0),V(ve,null,Te(e.getOptions(w),S=>(b(),A(O,ze({key:e.getValue(S)},{ref_for:!0},e.getOptionProps(S)),null,16))),128))]),_:2},1032,["label","disabled"])):(b(),A(O,ze({key:1,ref_for:!0},e.getOptionProps(w)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[qe,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(b(),V("div",{key:1,class:g(e.nsSelect.be("dropdown","loading"))},[M(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(b(),V("div",{key:2,class:g(e.nsSelect.be("dropdown","empty"))},[M(e.$slots,"empty",{},()=>[$("span",null,j(e.emptyText),1)])],2)):N("v-if",!0),e.$slots.footer?(b(),V("div",{key:3,class:g(e.nsSelect.be("dropdown","footer")),onClick:n[9]||(n[9]=le(()=>{},["stop"]))},[M(e.$slots,"footer")],2)):N("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[E,e.handleClickOutside,e.popperRef]])}var ua=ye(aa,[["render",ra],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Ca=Rt(ua,{Option:Je,OptionGroup:Xe}),wa=Mt(Je);Mt(Xe);export{wa as E,Ca as a,zn as b,gn as c,Oa as d,yn as e};
