import{a0 as oe,b as K,_ as X,H as D,d as se,a as V,I as q,w as re}from"./Q0Uepi9K.js";import{e as Y,f as ee,g as te,Z as ne,A as G,o as x,j as $,w as le,X as ie,a as j,L as ce,m as A,k as R,n as I,Y as ue,V as ve,p as f,aw as fe,q as L,c as ae,b as F,G as me,i as P,h as Z,ac as de,E as pe,N as J,b4 as he,l as be,r as ge,C as ye,D as we,v as Se,z as ze}from"./BK2JPfx8.js";import{t as Ee}from"./BE20p1dL.js";import{u as _e}from"./BHWYNUKH.js";function Ke(){if(!arguments.length)return[];var c=arguments[0];return oe(c)?c:[c]}const T=4,ke={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},He=({move:c,size:m,bar:s})=>({[s.size]:m,transform:`translate${s.axis}(${c}%)`}),U=Symbol("scrollbarContextKey"),Te=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le="Thumb",Ce=Y({__name:"thumb",props:Te,setup(c){const m=c,s=ee(U),o=te("scrollbar");s||Ee(Le,"can not inject scrollbar context");const d=f(),u=f(),w=f({}),g=f(!1);let h=!1,i=!1,p=0,v=0,a=fe?document.onselectstart:null;const t=L(()=>ke[m.vertical?"vertical":"horizontal"]),l=L(()=>He({size:m.size,move:m.move,bar:t.value})),z=L(()=>d.value[t.value.offset]**2/s.wrapElement[t.value.scrollSize]/m.ratio/u.value[t.value.offset]),S=n=>{var b;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(b=window.getSelection())==null||b.removeAllRanges(),H(n);const E=n.currentTarget;E&&(w.value[t.value.axis]=E[t.value.offset]-(n[t.value.client]-E.getBoundingClientRect()[t.value.direction]))},k=n=>{if(!u.value||!d.value||!s.wrapElement)return;const b=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),E=u.value[t.value.offset]/2,y=(b-E)*100*z.value/d.value[t.value.offset];s.wrapElement[t.value.scroll]=y*s.wrapElement[t.value.scrollSize]/100},H=n=>{n.stopImmediatePropagation(),h=!0,p=s.wrapElement.scrollHeight,v=s.wrapElement.scrollWidth,document.addEventListener("mousemove",B),document.addEventListener("mouseup",C),a=document.onselectstart,document.onselectstart=()=>!1},B=n=>{if(!d.value||!u.value||h===!1)return;const b=w.value[t.value.axis];if(!b)return;const E=(d.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,y=u.value[t.value.offset]-b,e=(E-y)*100*z.value/d.value[t.value.offset];t.value.scroll==="scrollLeft"?s.wrapElement[t.value.scroll]=e*v/100:s.wrapElement[t.value.scroll]=e*p/100},C=()=>{h=!1,w.value[t.value.axis]=0,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",C),N(),i&&(g.value=!1)},M=()=>{i=!1,g.value=!!m.size},W=()=>{i=!0,g.value=h};ne(()=>{N(),document.removeEventListener("mouseup",C)});const N=()=>{document.onselectstart!==a&&(document.onselectstart=a)};return D(G(s,"scrollbarElement"),"mousemove",M),D(G(s,"scrollbarElement"),"mouseleave",W),(n,b)=>(x(),$(ve,{name:R(o).b("fade"),persisted:""},{default:le(()=>[ie(j("div",{ref_key:"instance",ref:d,class:A([R(o).e("bar"),R(o).is(t.value.key)]),onMousedown:k,onClick:b[0]||(b[0]=ce(()=>{},["stop"]))},[j("div",{ref_key:"thumb",ref:u,class:A(R(o).e("thumb")),style:I(l.value),onMousedown:S},null,38)],34),[[ue,n.always||g.value]])]),_:1},8,["name"]))}});var Q=X(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Ne=K({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Re=Y({__name:"bar",props:Ne,setup(c,{expose:m}){const s=c,o=ee(U),d=f(0),u=f(0),w=f(""),g=f(""),h=f(1),i=f(1);return m({handleScroll:a=>{if(a){const t=a.offsetHeight-T,l=a.offsetWidth-T;u.value=a.scrollTop*100/t*h.value,d.value=a.scrollLeft*100/l*i.value}},update:()=>{const a=o?.wrapElement;if(!a)return;const t=a.offsetHeight-T,l=a.offsetWidth-T,z=t**2/a.scrollHeight,S=l**2/a.scrollWidth,k=Math.max(z,s.minSize),H=Math.max(S,s.minSize);h.value=z/(t-z)/(k/(t-k)),i.value=S/(l-S)/(H/(l-H)),g.value=k+T<t?`${k}px`:"",w.value=H+T<l?`${H}px`:""}}),(a,t)=>(x(),ae(me,null,[F(Q,{move:d.value,ratio:i.value,size:w.value,always:a.always},null,8,["move","ratio","size","always"]),F(Q,{move:u.value,ratio:h.value,size:g.value,vertical:"",always:a.always},null,8,["move","ratio","size","always"])],64))}});var Pe=X(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const xe=K({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:se([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,..._e(["ariaLabel","ariaOrientation"])}),Ae={"end-reached":c=>["left","right","top","bottom"].includes(c),scroll:({scrollTop:c,scrollLeft:m})=>[c,m].every(P)},Be=["tabindex"],Oe="ElScrollbar",Me=Y({name:Oe,__name:"scrollbar",props:xe,emits:Ae,setup(c,{expose:m,emit:s}){const o=c,d=s,u=te("scrollbar");let w,g,h,i=0,p=0,v="";const a={bottom:!1,top:!1,right:!1,left:!1},t=f(),l=f(),z=f(),S=f(),k=L(()=>{const e={},r=V(o.height),_=V(o.maxHeight);return r&&(e.height=r),_&&(e.maxHeight=_),[o.wrapStyle,e]}),H=L(()=>[o.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!o.native}]),B=L(()=>[u.e("view"),o.viewClass]),C=e=>{var r;return(r=a[e])!=null?r:!1},M={top:"bottom",bottom:"top",left:"right",right:"left"},W=e=>{const r=M[v];if(!r)return;const _=e[v],O=e[r];_&&!a[v]&&(a[v]=!0),!O&&a[r]&&(a[r]=!1)},N=()=>{var e;if(l.value){(e=S.value)==null||e.handleScroll(l.value);const r=i,_=p;i=l.value.scrollTop,p=l.value.scrollLeft;const O={bottom:i+l.value.clientHeight>=l.value.scrollHeight-o.distance,top:i<=o.distance&&r!==0,right:p+l.value.clientWidth>=l.value.scrollWidth-o.distance&&_!==p,left:p<=o.distance&&_!==0};if(d("scroll",{scrollTop:i,scrollLeft:p}),r!==i&&(v=i>r?"bottom":"top"),_!==p&&(v=p>_?"right":"left"),o.distance>0){if(C(v))return;W(O)}O[v]&&d("end-reached",v)}};function n(e,r){we(e)?l.value.scrollTo(e):P(e)&&P(r)&&l.value.scrollTo(e,r)}const b=e=>{P(e)&&(l.value.scrollTop=e)},E=e=>{P(e)&&(l.value.scrollLeft=e)},y=()=>{var e;(e=S.value)==null||e.update(),a[v]=!1};return Z(()=>o.noresize,e=>{e?(w?.(),g?.(),h?.()):({stop:w}=q(z,y),{stop:g}=q(l,y),h=D("resize",y))},{immediate:!0}),Z(()=>[o.maxHeight,o.height],()=>{o.native||J(()=>{var e;y(),l.value&&((e=S.value)==null||e.handleScroll(l.value))})}),Se(U,ze({scrollbarElement:t,wrapElement:l})),de(()=>{l.value&&(l.value.scrollTop=i,l.value.scrollLeft=p)}),pe(()=>{o.native||J(()=>{y()})}),he(()=>y()),m({wrapRef:l,update:y,scrollTo:n,setScrollTop:b,setScrollLeft:E,handleScroll:N}),(e,r)=>(x(),ae("div",{ref_key:"scrollbarRef",ref:t,class:A(R(u).b())},[j("div",{ref_key:"wrapRef",ref:l,class:A(H.value),style:I(k.value),tabindex:e.tabindex,onScroll:N},[(x(),$(ge(e.tag),{id:e.id,ref_key:"resizeRef",ref:z,class:A(B.value),style:I(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:le(()=>[be(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,Be),e.native?ye("v-if",!0):(x(),$(Pe,{key:0,ref_key:"barRef",ref:S,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var We=X(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Xe=re(We);export{Xe as E,Ke as c,Ae as s};
