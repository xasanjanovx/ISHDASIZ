import{aI as u,e as b,g as f,b as h,l as i,a8 as w,aE as C,h as g,bf as k,q as M}from"./BK2JPfx8.js";import{P as d}from"./BmMjECQY.js";import{b as x,d as m,aw as E,an as S,am as O,al as P}from"./Q0Uepi9K.js";import{t as T}from"./BE20p1dL.js";import{g as I}from"./D5nUfHt7.js";const z=e=>{if(!e)return{onClick:u,onMousedown:u,onMouseup:u};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},B=x({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),L={click:e=>e instanceof MouseEvent},H="overlay";var N=b({name:"ElOverlay",props:B,emits:L,setup(e,{slots:t,emit:s}){const a=f(H),l=c=>{s("click",c)},{onClick:n,onMousedown:o,onMouseup:r}=z(e.customMaskEvent?void 0:l);return()=>e.mask?h("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:n,onMousedown:o,onMouseup:r},[i(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):w("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[i(t,"default")])}});const q=N,D=(e,t={})=>{C(e)||T("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||f("popup"),a=M(()=>s.bm("parent","hidden"));let l=0,n=!1,o="0",r=!1;const c=()=>{r||(r=!0,setTimeout(()=>{typeof document>"u"||n&&document&&(document.body.style.width=o,P(document.body,a.value))},200))};g(e,p=>{if(!p){c();return}r=!1,n=!E(document.body,a.value),n&&(o=document.body.style.width,S(document.body,a.value)),l=I(s.namespace.value);const y=document.documentElement.clientHeight<document.body.scrollHeight,v=O(document.body,"overflowY");l>0&&(y||v==="scroll")&&n&&(document.body.style.width=`calc(100% - ${l}px)`)}),k(()=>c())};export{q as E,D as a,z as u};
