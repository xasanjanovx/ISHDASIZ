import{a as w}from"./Q0Uepi9K.js";import{E as H,aB as P,Z as T,p as W}from"./BK2JPfx8.js";const U=(n,c,M,h)=>{const o={offsetX:0,offsetY:0},u=W(!1),p=(t,e)=>{if(n.value){const{offsetX:f,offsetY:l}=o,s=n.value.getBoundingClientRect(),i=s.left,a=s.top,m=s.width,d=s.height,v=document.documentElement.clientWidth,L=document.documentElement.clientHeight,x=-i+f,D=-a+l,b=v-i-m+f,B=L-a-(d<L?d:0)+l;h?.value||(t=Math.min(Math.max(t,x),b),e=Math.min(Math.max(e,D),B)),o.offsetX=t,o.offsetY=e,n.value.style.transform=`translate(${w(t)}, ${w(e)})`}},E=t=>{const e=t.clientX,f=t.clientY,{offsetX:l,offsetY:s}=o,i=m=>{u.value||(u.value=!0);const d=l+m.clientX-e,v=s+m.clientY-f;p(d,v)},a=()=>{u.value=!1,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)},X=()=>{c.value&&n.value&&(c.value.addEventListener("mousedown",E),window.addEventListener("resize",r))},g=()=>{c.value&&n.value&&(c.value.removeEventListener("mousedown",E),window.removeEventListener("resize",r))},Y=()=>{o.offsetX=0,o.offsetY=0,n.value&&(n.value.style.transform="")},r=()=>{const{offsetX:t,offsetY:e}=o;p(t,e)};return H(()=>{P(()=>{M.value?X():g()})}),T(()=>{g()}),{isDragging:u,resetPosition:Y,updatePosition:r}};export{U as u};
